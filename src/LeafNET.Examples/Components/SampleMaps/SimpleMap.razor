

<LeafletMap @bind-Map="Map" Options="_mapOptions" />



@code {

    [Parameter]
    public MapService? Map { get; set; }
    
    [Parameter]
    public EventCallback<MapService> MapChanged { get; set; }

    private bool _mapInitialized;

    private readonly MapOptions _mapOptions = new()
    {
        ZoomControl = false, 
        Zoom = 10, 
        Center = (43.6532, -79.3832),
    };

    protected override async Task OnAfterRenderAsync(bool firstRedner)
    {
        if (!_mapInitialized && Map is not null)
        {
            _mapInitialized = true;
            await MapChanged.InvokeAsync(Map);
        }
    }

}